
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="An infinitely extensible and reusable applications framework.">
      
      
      
      
        <link rel="prev" href="../io_provider/">
      
      
        <link rel="next" href="../register_widgets/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Register Functions - himena</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="https://unpkg.com/mermaid@8.0.0/dist/mermaid.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#register-functions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="himena" class="md-header__button md-logo" aria-label="himena" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            himena
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Register Functions
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hanjinliu/himena" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    himena
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="himena" class="md-nav__button md-logo" aria-label="himena" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    himena
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hanjinliu/himena" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    himena
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../usage/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/tab_and_window/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tab/Window Manipulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/workflows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/sessions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sessions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/customization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/builtin_widgets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-in Widgets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/builtin_dock_widgets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-in Dock Widgets
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Developer's Guide
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Developer's Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../widget_data_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The WidgetDataModel Standard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugin_system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugin System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../io_provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reader/Writer Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Register Functions
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Register Functions
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#function-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Function Definition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependency-injection-and-type-narrowing" class="md-nav__link">
    <span class="md-ellipsis">
      Dependency Injection and Type Narrowing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#place-the-function-in-any-places-in-menu-bar" class="md-nav__link">
    <span class="md-ellipsis">
      Place the Function in Any Places in Menu Bar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parametric-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Parametric Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-parameter-input-window" class="md-nav__link">
    <span class="md-ellipsis">
      Configure Parameter Input Window
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preview-function-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      Preview Function Outputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asynchronous-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Asynchronous Execution
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../register_widgets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Register Widgets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../register_dock_widgets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Register Dock Widgets
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/consts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    himena.consts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/layout/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    himena.layout
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/profile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    himena.profile
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    himena.plugins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    himena.types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/standards/model_meta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    himena.standards.model_meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/standards/roi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    himena.standards.roi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/widgets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    himena.widgets
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#function-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Function Definition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependency-injection-and-type-narrowing" class="md-nav__link">
    <span class="md-ellipsis">
      Dependency Injection and Type Narrowing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#place-the-function-in-any-places-in-menu-bar" class="md-nav__link">
    <span class="md-ellipsis">
      Place the Function in Any Places in Menu Bar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parametric-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Parametric Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-parameter-input-window" class="md-nav__link">
    <span class="md-ellipsis">
      Configure Parameter Input Window
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preview-function-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      Preview Function Outputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asynchronous-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Asynchronous Execution
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="register-functions">Register Functions</h1>
<p>To process and analyze data, you need functions that convert an object into another.
This section tells you how to register such functions so that you can run them on the
GUI.</p>
<h2 id="function-definition">Function Definition</h2>
<p>Basically, a function that processes data is a function that takes a <code>WidgetDataModel</code>
object and returns another <code>WidgetDataModel</code> object. For example, the following function
formats a non-indented json text data into an indented, pretty json text data.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">himena</span><span class="w"> </span><span class="kn">import</span> <span class="n">WidgetDataModel</span>

<span class="k">def</span><span class="w"> </span><span class="nf">format_json</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">WidgetDataModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WidgetDataModel</span><span class="p">:</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">WidgetDataModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Because <code>himena</code> has its default widget for <code>"text"</code>-type model, this function can be
readly used in the GUI. You can register this function using <code>register_function()</code>
function.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">himena</span><span class="w"> </span><span class="kn">import</span> <span class="n">WidgetDataModel</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">himena.plugins</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_function</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="hll"><span class="nd">@register_function</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Format JSON Text&quot;</span><span class="p">)</span>
</span><span class="k">def</span><span class="w"> </span><span class="nf">format_json</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">WidgetDataModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WidgetDataModel</span><span class="p">:</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">WidgetDataModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
</code></pre></div>
<p>The registered function will be shown in the menu bar (under the "Plugins" menu by
default) and the command palette. When this function is called from the GUI, currently
active window will be converted into a <code>WidgetDataModel</code> object and passed to the
function. The returned <code>WidgetDataModel</code> object will then be converted into another
window.</p>
<hr />
<h2 id="dependency-injection-and-type-narrowing">Dependency Injection and Type Narrowing</h2>
<p><code>himena</code> uses <a href="https://github.com/pyapp-kit/in-n-out"><code>in_n_out</code></a> library to inject
the application context into functions. For example, in the previous example, the
<code>WidgetDataModel</code> of the current window is injected to the <code>model</code> argument of the
<code>format_json</code> function. If no window is activated, the "Format JSON Text" menu is grayed
out.</p>
<p>Here are the list of type hints that will be provided to the argument.</p>
<ul>
<li><a class="autorefs autorefs-internal" href="../../api/types/#himena.types.WidgetDataModel"><code>WidgetDataModel</code></a>: The current window's data.</li>
<li><a class="autorefs autorefs-internal" href="../../api/widgets/#himena.widgets.TabArea"><code>TabArea</code></a>: The current tab area.</li>
<li><a class="autorefs autorefs-internal" href="../../api/widgets/#himena.widgets.SubWindow"><code>SubWindow</code></a>: The current window.</li>
<li><a class="autorefs autorefs-internal" href="../../api/widgets/#himena.widgets.MainWindow"><code>MainWindow</code></a>: The main window.</li>
<li><a class="autorefs autorefs-internal" href="../../api/types/#himena.types.ClipboardDataModel"><code>ClipboardDataModel</code></a>: The clipboard data.</li>
</ul>
<p>And here are the list of return types that will be processed.</p>
<ul>
<li><a class="autorefs autorefs-internal" href="../../api/types/#himena.types.WidgetDataModel"><code>WidgetDataModel</code></a>: The returned value will be added to the current tab.</li>
<li><code>list[WidgetDataModel]</code>: Each item will be added to the current tab.</li>
<li><a class="autorefs autorefs-internal" title="Parametric = NewType('Parametric', Any)

  
      module-attribute
  " href="../../api/types/#himena.types.Parametric"><code>Parametric</code></a>: The returned function will be converted into a GUI for user input of
  parameters (see <a href="#parametric-functions">here</a>).</li>
<li><a class="autorefs autorefs-internal" href="../../api/types/#himena.types.ClipboardDataModel"><code>ClipboardDataModel</code></a>: The returned data will overwrite the system clipboard.</li>
<li><a class="autorefs autorefs-internal" title="WidgetConstructor = NewType('WidgetConstructor', object)

  
      module-attribute
  " href="../../api/types/#himena.types.WidgetConstructor"><code>WidgetConstructor</code></a>: The returned function will be executed to add a new sub-window with the constructed widget.</li>
<li><a href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Future"><code>concurrent.Future</code></a>: The returned job will be executed asynchronously.</li>
</ul>
<p>A problem of the example above is that the <code>model</code> argument may contain any type of
data (not only <code>"text"</code>-type data). To narrow the type of data, you can use the <code>types</code>
argument of the <code>register_function()</code> decorator.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">himena.consts</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardType</span>

<span class="nd">@register_function</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Format JSON Text&quot;</span><span class="p">,</span>
<span class="hll">    <span class="n">types</span><span class="o">=</span><span class="p">[</span><span class="n">StandardType</span><span class="o">.</span><span class="n">TEXT</span><span class="p">],</span>
</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">format_json</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">WidgetDataModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WidgetDataModel</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>With this, the "Format JSON Text" menu will be enabled only if the current window is a
widget for <code>"text"</code>-type data. Another benefit is that this command will be added to the
<a href="../../tutorial/#model-menu-button">model menu</a> of the <code>"text"</code>-type widget.</p>
<hr />
<h2 id="place-the-function-in-any-places-in-menu-bar">Place the Function in Any Places in Menu Bar</h2>
<p>The place to put the function in the menu bar can be specified by the <code>menus</code> argument
of the <code>register_function()</code> decorator. Each menu is specified by a "/"-separated string
identifier. Following is an example that puts the function in the
"my-plugins &gt; my-text-plugins" menu.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">himena</span><span class="w"> </span><span class="kn">import</span> <span class="n">WidgetDataModel</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">himena.plugins</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_function</span>

<span class="nd">@register_function</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Format JSON Text&quot;</span><span class="p">,</span>
    <span class="n">types</span><span class="o">=</span><span class="p">[</span><span class="n">StandardType</span><span class="o">.</span><span class="n">TEXT</span><span class="p">],</span>
<span class="hll">    <span class="n">menus</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;my-plugins/my-text-plugins&quot;</span><span class="p">],</span>
</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">format_json</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">WidgetDataModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WidgetDataModel</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>To define how to display the menu title, you can use <a class="autorefs autorefs-internal" title="configure_submenu(submenu_id, title=None, *, group=None)" href="../../api/plugins/#himena.plugins.configure_submenu"><code>configure_submenu()</code></a>.</p>
<div class="highlight"><pre><span></span><code><span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">himena.plugins</span><span class="w"> </span><span class="kn">import</span> <span class="n">configure_submenu</span>
</span>
<span class="n">configure_submenu</span><span class="p">(</span><span class="s2">&quot;my-plugins&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My Plugins&quot;</span><span class="p">)</span>
<span class="n">configure_submenu</span><span class="p">(</span><span class="s2">&quot;my-plugins/my-text-plugins&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My Text Plugins&quot;</span><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="parametric-functions">Parametric Functions</h2>
<p>Many functions require parameter inputs. It is very easy to implement a parametric
function in Python: just add more arguments to the function. However, implementing
parametric functions in GUI is usually tedious, as you need to create a specific
widget for every function.</p>
<p><code>himena</code> uses <a href="https://github.com/pyapp-kit/magicgui"><code>magicgui</code></a> package to convert a
function with parameters into a GUI widget based on the type hints of the function.
Therefore, <strong>you can easily register a parametric function just by returning a function</strong>
that takes parameters.</p>
<p>To tell <code>himena</code> that the returned value should be converted into a GUI for user input
of parameters, you need to <strong>annotate the returned value with the <code>Parametric</code> type</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">himena.plugins</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_function</span>
<span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">himena.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">Parametric</span>
</span>
<span class="nd">@register_function</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Format JSON Text&quot;</span><span class="p">,</span>
    <span class="n">types</span><span class="o">=</span><span class="p">[</span><span class="n">StandardType</span><span class="o">.</span><span class="n">TEXT</span><span class="p">],</span>
<span class="p">)</span>
<span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">format_json</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">WidgetDataModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Parametric</span><span class="p">:</span>
</span>    <span class="k">def</span><span class="w"> </span><span class="nf">run_format_json</span><span class="p">(</span><span class="n">indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">WidgetDataModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">run_format_json</span>
</code></pre></div>
<p>The type-to-widget mapping is as follows:</p>
<ul>
<li><code>int</code>, <code>float</code>, <code>str</code>, <code>list[int]</code>, <code>list[float]</code> &rarr; Line edit with the
  corresponding type.</li>
<li><code>bool</code> &rarr; Toggle switch.</li>
<li><code>enum.Enum</code>, <code>typing.Literal</code> &rarr; Combo box with the choices.</li>
<li><code>pathlib.Path</code> &rarr; Entry with a file dialog button.</li>
<li><code>tuple</code> &rarr; Group box with the corresponding types.</li>
<li><code>WidgetDataModel</code>, <code>list[WidgetDataModel]</code>, <code>SubWindow</code>, <code>list[SubWindow]</code>
  &rarr; Drop area that can drop other sub-windows to provide the corresponding data.</li>
</ul>
<hr />
<h2 id="configure-parameter-input-window">Configure Parameter Input Window</h2>
<p>The parameter input window is automatically generated by <code>magicgui</code>. You can further
customize its appearance by <a class="autorefs autorefs-internal" title="configure_gui(f=None, *, title=None, preview=False, auto_close=True, show_parameter_labels=True, gui_options=None, result_as='window', **kwargs)" href="../../api/plugins/#himena.plugins.configure_gui"><code>configure_gui()</code></a> decorator.</p>
<div class="highlight"><pre><span></span><code><span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">himena.plugins</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_function</span><span class="p">,</span> <span class="n">configure_gui</span>
</span><span class="kn">from</span><span class="w"> </span><span class="nn">himena.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">Parametric</span>

<span class="nd">@register_function</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Format JSON Text&quot;</span><span class="p">,</span>
    <span class="n">types</span><span class="o">=</span><span class="p">[</span><span class="n">StandardType</span><span class="o">.</span><span class="n">TEXT</span><span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">format_json</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">WidgetDataModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Parametric</span><span class="p">:</span>
<span class="hll">    <span class="nd">@configure_gui</span><span class="p">(</span>
</span>        <span class="n">indent</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Indent in Spaces&quot;</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">run_format_json</span><span class="p">(</span><span class="n">indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">WidgetDataModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">run_format_json</span>
</code></pre></div>
<p><code>configure_gui</code> takes keyword arguments that are passed to the function it decorates,
and use <code>dict</code> to configure the widget used for the parameter input.</p>
<p>Here's some of the options you can use.</p>
<ul>
<li><code>label</code>: The label of the input field.</li>
<li><code>value</code>: The default value.</li>
<li><code>choices</code>: List of choices.</li>
<li><code>widget_type</code>: Widget class to use. This option must be a <a href="https://pyapp-kit.github.io/magicgui/widgets/"><code>magicgui</code> ValueWidget</a>.</li>
<li><code>min</code>: The minimum value (if applicable).</li>
<li><code>max</code>: The maximum value (if applicable).</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To avoid argument name collision, you can pass the options as a dict to
<code>gui_options</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@configure_gui</span><span class="p">(</span>
    <span class="n">gui_options</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;indent&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Indent in Spaces&quot;</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">}},</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">run_format_json</span><span class="p">(</span><span class="n">indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">):</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">WidgetDataModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<hr />
<h2 id="preview-function-outputs">Preview Function Outputs</h2>
<p>In some cases, parameters should be tuned based on the output of the function. For
example in the case of the <code>format_json</code> function, the user may want to see the output
so that the json string looks good. To add a "preview" toggle button to the parameter
input window, just add the <code>preview</code> argument to the <code>configure_gui()</code> decorator.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@register_function</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Format JSON Text&quot;</span><span class="p">,</span>
    <span class="n">types</span><span class="o">=</span><span class="p">[</span><span class="n">StandardType</span><span class="o">.</span><span class="n">TEXT</span><span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">format_json</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">WidgetDataModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Parametric</span><span class="p">:</span>
<span class="hll">    <span class="nd">@configure_gui</span><span class="p">(</span><span class="n">preview</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span>    <span class="k">def</span><span class="w"> </span><span class="nf">run_format_json</span><span class="p">(</span><span class="n">indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">WidgetDataModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">run_format_json</span>
</code></pre></div>
<p><img alt="" loading="lazy" src="../../images/02_preview.gif" width="700px" /></p>
<hr />
<h2 id="asynchronous-execution">Asynchronous Execution</h2>
<p>It is also very easy to make your function asynchronous (make the application responsive
during the execution). Just add the <code>run_async=True</code> argument to the
<code>register_function()</code> decorator.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@register_function</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Format JSON Text&quot;</span><span class="p">,</span>
    <span class="n">types</span><span class="o">=</span><span class="p">[</span><span class="n">StandardType</span><span class="o">.</span><span class="n">TEXT</span><span class="p">],</span>
<span class="hll">    <span class="n">run_async</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">format_json</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">WidgetDataModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Parametric</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">run_format_json</span><span class="p">(</span><span class="n">indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">WidgetDataModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">run_format_json</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Do not update the GUI from an asynchronous function</p>
<p>You should not update the GUI from an asynchronous function, because it can only be
updated in the main thread.</p>
<div class="highlight"><span class="filename">This function crashes the application</span><pre><span></span><code><span class="nd">@register_function</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Add widget&quot;</span><span class="p">,</span>
    <span class="n">run_async</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">add_widget</span><span class="p">(</span><span class="n">ui</span><span class="p">:</span> <span class="n">MainWindow</span><span class="p">):</span>
    <span class="n">ui</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">QtW</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">))</span>
</code></pre></div>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../io_provider/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Reader/Writer Functions">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Reader/Writer Functions
              </div>
            </div>
          </a>
        
        
          
          <a href="../register_widgets/" class="md-footer__link md-footer__link--next" aria-label="Next: Register Widgets">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Register Widgets
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright (c) 2024 - 2024 Hanjin Liu
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.sections", "navigation.indexes", "navigation.footer", "toc.follow", "search.suggest", "search.share"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid@8.0.0/dist/mermaid.min.js"></script>
      
    
  </body>
</html>