
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="An infinitely extensible and reusable applications framework.">
      
      
      
      
        <link rel="prev" href="../register_functions/">
      
      
        <link rel="next" href="../register_dock_widgets/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Register Widgets - himena</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2afb09e1.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="https://unpkg.com/mermaid@8.0.0/dist/mermaid.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#register-widgets" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="himena" class="md-header__button md-logo" aria-label="himena" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            himena
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Register Widgets
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/hanjinliu/himena" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    himena
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="himena" class="md-nav__button md-logo" aria-label="himena" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    himena
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hanjinliu/himena" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    himena
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../usage/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/tab_and_window/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tab/Window Manipulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/sessions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sessions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/customization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/builtin_widgets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Built-in Widgets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/builtin_dock_widgets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Built-in Dock Widgets
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Developer's Guide
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Developer's Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../widget_data_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The WidgetDataModel Standard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugin_system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plugin System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../io_provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reader/Writer Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../register_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Register Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Register Widgets
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Register Widgets
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#protocols" class="md-nav__link">
    <span class="md-ellipsis">
      Protocols
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Protocols">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compatibility-with-widgetdatamodel-standard" class="md-nav__link">
    <span class="md-ellipsis">
      Compatibility with WidgetDataModel Standard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control-widget" class="md-nav__link">
    <span class="md-ellipsis">
      Control Widget
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-wrapper-class" class="md-nav__link">
    <span class="md-ellipsis">
      Use Wrapper Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#widget-interactivity" class="md-nav__link">
    <span class="md-ellipsis">
      Widget Interactivity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-to-the-gui-events" class="md-nav__link">
    <span class="md-ellipsis">
      Response to the GUI Events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drag-and-drop" class="md-nav__link">
    <span class="md-ellipsis">
      Drag and Drop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#widget-appearance" class="md-nav__link">
    <span class="md-ellipsis">
      Widget Appearance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-the-widget" class="md-nav__link">
    <span class="md-ellipsis">
      Register the Widget
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../register_dock_widgets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Register Dock Widgets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plotting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plotting in Himena
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/consts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    himena.consts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/layout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    himena.layout
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    himena.profile
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    himena.plugins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    himena.types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/standards/model_meta/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    himena.standards.model_meta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/standards/plotting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    himena.standards.plotting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/standards/roi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    himena.standards.roi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/widgets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    himena.widgets
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#protocols" class="md-nav__link">
    <span class="md-ellipsis">
      Protocols
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Protocols">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compatibility-with-widgetdatamodel-standard" class="md-nav__link">
    <span class="md-ellipsis">
      Compatibility with WidgetDataModel Standard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control-widget" class="md-nav__link">
    <span class="md-ellipsis">
      Control Widget
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-wrapper-class" class="md-nav__link">
    <span class="md-ellipsis">
      Use Wrapper Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#widget-interactivity" class="md-nav__link">
    <span class="md-ellipsis">
      Widget Interactivity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-to-the-gui-events" class="md-nav__link">
    <span class="md-ellipsis">
      Response to the GUI Events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drag-and-drop" class="md-nav__link">
    <span class="md-ellipsis">
      Drag and Drop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#widget-appearance" class="md-nav__link">
    <span class="md-ellipsis">
      Widget Appearance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-the-widget" class="md-nav__link">
    <span class="md-ellipsis">
      Register the Widget
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="register-widgets">Register Widgets</h1>
<p>In this section, you will learn how to define and register custom widgets for specific
data types.</p>
<h2 id="protocols">Protocols</h2>
<p>To avoid the potential dangers of metaclass collision and method collision, <code>himena</code> do
not use a super class to define plugin widgets. Instead, your plugin widgets have to
implement protocols (methods with correct name and arguments) to enable the
communication between the plugin and the main application.</p>
<details class="tip">
<summary>Check misspelling</summary>
<p>Because the plugin widgets do not inherit anything like plugin classes, you have to
be careful not to misspell the method name. To check if the method name is correct,
you can decorate the protocol methods with <code>validate_protocol</code> decorator.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">himena.plugins</span><span class="w"> </span><span class="kn">import</span> <span class="n">validate_protocol</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyWidget</span><span class="p">:</span>
<span class="hll">    <span class="nd">@validate_protocol</span>
</span>    <span class="k">def</span><span class="w"> </span><span class="nf">udpate_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>  <span class="c1"># misspelled, raises error</span>
        <span class="o">...</span>
</code></pre></div>
</details>
<p>All the protocols are optional except for <code>update_model</code>, which is called when the
widget is constructed from a data model.
To make the plugin better, you should implement as many protocols as possible.</p>
<h3 id="compatibility-with-widgetdatamodel-standard">Compatibility with <code>WidgetDataModel</code> Standard</h3>
<p>To make the plugin widgets compatible with the <code>WidgetDataModel</code> standard that is used
everywhere in <code>himena</code>, you have to implement the following protocols:</p>
<ul>
<li><code>update_model(self, model: WidgetDataModel) -&gt; None</code>: Update the widget state based
  on the model.</li>
<li><code>to_model(self) -&gt; WidgetDataModel</code>: Return the model that represents the current
  state of the widget.</li>
<li><code>model_type(self) -&gt; str</code>: Return the type of the model that the widget uses. Model
  type is frequently checked in many occasions, so you should implement this method if
  <code>to_model</code> is computationally expensive.</li>
<li><code>update_value(self, value: Any) -&gt; None</code>: Update the widget state based on the value
  without changing the states that are described by the <code>metadata</code> field of the
  <code>WidgetDataModel</code>. This method is preferentially called by the <code>update_value</code> method
  of <code>SubWindow</code> class.</li>
</ul>
<h3 id="control-widget">Control Widget</h3>
<p>The <a href="../../usage/basics/#appearance">control widget</a> is a widget that is added to the
tool bar of the main window to make the sub-window area tidy. This widget can be defined
by implementing the following protocol.</p>
<ul>
<li><code>control_widget(self) -&gt; &lt;backend widget type&gt;</code>: Construct and return the control
  widget.</li>
</ul>
<p>The return type must be interpretable by the backend GUI library. For example, if your
plugin widget is implemented using <code>Qt</code>, the return type should be a <code>QWidget</code> object
as well.</p>
<h3 id="use-wrapper-class">Use Wrapper Class</h3>
<p>Python already has a lot of libraries that wrap other GUI libraries to provide better
interface. In <code>himena</code>, you can directly use these wrapper classes and implement all the
protocols on the wrapper class. In this case, you will have to tell where the backend
widget is located, which can be done by implementing the following protocol.</p>
<ul>
<li><code>native_widget(self) -&gt; &lt;backend widget type&gt;</code>: Return the backend widget that is
  wrapped by the wrapper class.</li>
</ul>
<h3 id="widget-interactivity">Widget Interactivity</h3>
<p>Widgets can be interactively modified by the user. To change the interactivity, or to
programmatically mark the widget as modified, you can implement the following protocols.</p>
<ul>
<li><code>is_editable(self) -&gt; bool</code>: Return whether the widget is editable or not.</li>
<li><code>set_editable(self, editable: bool) -&gt; None</code>: Set the widget editable or not.</li>
<li><code>is_modified(self) -&gt; bool</code>: Return whether the underlying data is modified or not.</li>
<li><code>set_modified(self, modified: bool) -&gt; None</code>: Set the modified state of the widget.</li>
</ul>
<h3 id="response-to-the-gui-events">Response to the GUI Events</h3>
<p>Sometimes your widget needs to catch the GUI events to update the widget state.</p>
<ul>
<li><code>theme_changed_callback(self, theme: Theme) -&gt; None</code>: Called when the theme of the
  application is changed. The <code>Theme</code> object is a data class that contains the color
  theme of the application.</li>
<li><code>widget_added_callback(self) -&gt; None</code>: Called when the sub-window containing this
  widget is added to the main window.</li>
<li><code>widget_activated_callback(self) -&gt; None</code>: Called when the sub-window containing this
  widget is activated (clicked or focus).</li>
<li><code>widget_closed_callback(self) -&gt; None</code>:  Called when the sub-window containing this
  widget is closed.</li>
<li><code>widget_resized_callback(self, old_size: Size, new_size: Size) -&gt; None</code>: Called when
  the sub-window containing this widget is resized from the old size to a new size.
  <a class="autorefs autorefs-internal" title="Size


  
      dataclass
  " href="../../api/types/#himena.types.Size"><code>Size</code></a> is a tuple like object with <code>width</code> and <code>height</code> fields.</li>
</ul>
<h3 id="drag-and-drop">Drag and Drop</h3>
<p>Drag-and-drop operation is handled using <a class="autorefs autorefs-internal" href="../../api/types/#himena.types.DragDataModel"><code>DragDataModel</code></a>.</p>
<ul>
<li><code>dropped_callback(self, model: DragDataModel) -&gt; None</code>: Callback method when an item
  is dropped on the widget.</li>
<li><code>allowed_drop_types(self) -&gt; list[str]</code>: List of types that the widget accepts.</li>
</ul>
<h3 id="widget-appearance">Widget Appearance</h3>
<ul>
<li><code>size_hint(self) -&gt; tuple[int, int]</code>: Return the size hint of the widget. This method
  is called when the widget is added to the main window.</li>
<li><code>default_title(self) -&gt; str</code>: Return the default title of the widget. This method is
  called when the widget is added to the main window without specifying the title.</li>
</ul>
<h2 id="register-the-widget">Register the Widget</h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">qtpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">QtWidgets</span> <span class="k">as</span> <span class="n">QtW</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">himena.plugins</span><span class="w"> </span><span class="kn">import</span> <span class="n">validate_protocol</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyWidget</span><span class="p">(</span><span class="n">QtW</span><span class="o">.</span><span class="n">QTextEdit</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="nd">@validate_protocol</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">update_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;text&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@validate_protocol</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">WidgetDataModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">(),</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>

    <span class="nd">@validate_protocol</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">size_hint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span>
</code></pre></div>
<p>Once you have implemented the protocols like above, you can register the widget class
using the <code>register_widget_class</code> function.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">himena</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">himena.plugins</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_widget_class</span>

<span class="n">register_widget_class</span><span class="p">(</span><span class="n">StandardType</span><span class="o">.</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">MyWidget</span><span class="p">)</span>
</code></pre></div>
<p>The first argument is the type of the data the widget class is supposed to handle.
Whenever the application is requested to add a data model of that type, this widget will
be constructed like below:</p>
<div class="highlight"><pre><span></span><code><span class="n">widget</span> <span class="o">=</span> <span class="n">MyWidget</span><span class="p">()</span>
<span class="n">widget</span><span class="o">.</span><span class="n">update_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</code></pre></div>
<p>and added to the main window inside a sub-window.</p>
<details class="tip">
<summary>Register function instead of class</summary>
<p>Because what is done here is just calling the constructor of the widget class, the
object registered by the <code>register_widget_class</code> function does not have to be a
class. You can also register a function that returns the widget object.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_widget</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">MyWidget</span><span class="p">()</span>

<span class="n">register_widget_class</span><span class="p">(</span><span class="n">StandardType</span><span class="o">.</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">create_widget</span><span class="p">)</span>
</code></pre></div>
<p>This is useful when you want to execute the file that defines the widget class
lazily, in order to reduce the startup time of the application.</p>
</details>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../register_functions/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Register Functions">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Register Functions
              </div>
            </div>
          </a>
        
        
          
          <a href="../register_dock_widgets/" class="md-footer__link md-footer__link--next" aria-label="Next: Register Dock Widgets">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Register Dock Widgets
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright (c) 2024 - 2024 Hanjin Liu
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.sections", "navigation.indexes", "navigation.footer", "toc.follow", "search.suggest", "search.share"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid@8.0.0/dist/mermaid.min.js"></script>
      
    
  </body>
</html>